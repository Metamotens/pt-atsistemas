<form class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-2 sm:gap-2 lg:gap-5 xl:gap-5 p-5 m-5 bg-white items-center overflow-hidden rounded-lg shadow-lg"
      [formGroup]="form"
      (ngSubmit)="save()"
>

  <div>
    <!--title-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="title">
          {{ 'movies.create-update.title' | translate }}
      </label>
      <input class="block w-full text-gray-700 border border-gray-300 rounded py-2 px-2.5 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
             type="text"
             id="title"
             placeholder="{{ 'movies.create-update.title-placeholder' | translate }}"
             formControlName="title"
             [ngClass]="{ 'border-red-600': form.invalid && (formControls.title.dirty || formControls.title.touched) && formControls.title.errors }"
      >
      <div class="h-8">
        <span *ngIf="formControls.title.touched && formControls.title.errors" class="text-red-600 font-normal">
            {{ 'movies.create-update.title-error' | translate }}
        </span>
      </div>
    </div>

    <!--poster-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="poster">
          {{ 'movies.create-update.poster' | translate }}
      </label>
      <input class="block w-full text-gray-700 border border-gray-300 rounded py-2 px-2.5 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
             type="text"
             id="poster"
             placeholder="{{ 'movies.create-update.poster-placeholder' | translate }}"
             formControlName="poster"
             [ngClass]="{ 'border-red-600': form.invalid && (formControls.poster.dirty || formControls.poster.touched) && formControls.poster.errors }"
      >
      <div class="h-8">
        <span *ngIf="formControls.poster.touched && formControls.poster.errors" class="text-red-600 font-normal">
            {{ 'movies.create-update.poster-error' | translate }}
        </span>
      </div>
    </div>

    <!--genres-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="genres">
          {{ 'movies.create-update.genres' | translate }}
      </label>
      <ng-select id="genres"
                 bindLabel="name"
                 placeholder="{{ 'movies.create-update.genres-placeholder' | translate }}"
                 addTagText="{{ 'movies.create-update.genres-placeholder' | translate }}"
                 notFoundText="{{ 'movies.create-update.genres-placeholder' | translate }}"
                 [items]="genres"
                 [addTag]="addGenre"
                 [hideSelected]="true"
                 [multiple]="true"
                 [(ngModel)]="selectedGenres"
                 [ngModelOptions]="{ standalone: true }"
      >
      </ng-select>
      <div class="h-8">
          <span *ngIf="form.invalid && (selectedGenres && selectedGenres?.length === 0)" class="text-red-600 font-normal">
              {{ 'movies.create-update.genres-error' | translate }}
          </span>
      </div>
    </div>

    <!--actors-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="actors">
          {{ 'movies.create-update.actors' | translate }}
      </label>
      <ng-select id="actors"
                 bindLabel="first_name"
                 appendTo="body"
                 placeholder="{{ 'movies.create-update.actors-placeholder' | translate }}"
                 notFoundText="{{ 'movies.create-update.actors-not-found' | translate }}"
                 [items]="actors$ | async"
                 [hideSelected]="true"
                 [multiple]="true"
                 [virtualScroll]="true"
                 [ngModelOptions]="{ standalone: true }"
                 [(ngModel)]="selectedActors"
      >
      </ng-select>
      <div class="h-8">
          <span *ngIf="form.invalid && (selectedActors && selectedActors?.length === 0)" class="text-red-600 font-normal">
              {{ 'movies.create-update.actors-error' | translate }}
          </span>
      </div>
    </div>
  </div>

  <div>
    <!--companies-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="company">
          {{ 'movies.create-update.company' | translate }}
      </label>
      <ng-select id="company"
                 bindValue="id"
                 bindLabel="name"
                 formControlName="company"
                 appendTo="body"
                 placeholder="{{ 'movies.create-update.company-placeholder' | translate }}"
                 notFoundText="{{ 'movies.create-update.company-not-found' | translate }}"
                 [items]="companies$ | async"
                 [hideSelected]="true"
                 [virtualScroll]="true"
      >
      </ng-select>
      <div class="h-8">
        <span *ngIf="formControls.company.touched && formControls.company.errors" class="text-red-600 font-normal">
            {{ 'movies.create-update.company-error' | translate }}
        </span>
      </div>
    </div>

    <!--year-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="year">
          {{ 'movies.create-update.year' | translate }}
      </label>
      <input class="block w-full text-gray-700 border border-gray-300 rounded py-2 px-2.5 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
             type="text"
             id="year"
             min="4"
             max="4"
             placeholder="{{ 'movies.create-update.year-placeholder' | translate }}"
             formControlName="year"
             [ngClass]="{ 'border-red-600': form.invalid && (formControls.year.dirty || formControls.year.touched) && formControls.year.errors }"
      >
      <div class="h-8">
        <span *ngIf="formControls.year.touched && formControls.year.errors" class="text-red-600 font-normal">
            {{ 'movies.create-update.year' | translate }}
        </span>
      </div>
    </div>

    <!--duration-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="duration">
          {{ 'movies.create-update.duration' | translate }}
      </label>
      <input class="block w-full text-gray-700 border border-gray-300 rounded py-2 px-2.5 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
             type="text"
             id="duration"
             placeholder="{{ 'movies.create-update.duration-placeholder' | translate }}"
             formControlName="duration"
             [ngClass]="{ 'border-red-600': form.invalid && (formControls.duration.dirty || formControls.duration.touched) && formControls.duration.errors }"
      >
      <div class="h-8">
        <span *ngIf="formControls.duration?.touched && formControls.duration.errors" class="text-red-600 font-normal">
            {{ 'movies.create-update.duration-error' | translate }}
        </span>
      </div>
    </div>

    <!--score-->
    <div class="flex flex-col font-medium">
      <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="score">
          {{ 'movies.create-update.score' | translate }}
      </label>
      <input class="block w-full text-gray-700 border border-gray-300 rounded py-2 px-2.5 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
             type="text"
             id="score"
             placeholder="{{ 'movies.create-update.score-placeholder' | translate }}"
             formControlName="score"
             [ngClass]="{ 'border-red-600': form.invalid && (formControls.score.dirty || formControls.score.touched) && formControls.score.errors }"
      >
      <div class="h-8">
        <span *ngIf="formControls.score.touched && formControls.score.errors" class="text-red-600 font-normal">
            {{ 'movies.create-update.score-error' | translate }}
        </span>
      </div>
    </div>
  </div>

  <!--submit-->
  <button type="submit"
          class="sm:col-span-1 md:col-span-2 lg:col-span-2 xl:col-span-2
          bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 border border-blue-700 rounded"
          [disabled]="disableSubmitBtn()"
          [ngClass]="{ 'opacity-50 cursor-not-allowed': disableSubmitBtn() }"
  >
    {{ 'movies.create-update.btn-save' | translate }}
  </button>
</form>
